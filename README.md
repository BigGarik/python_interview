# [USS] User Scoring Service (Interview)

***

## Примечание
* Данный проект разработан в целях проведения интервью при тестировании
  кандидата на роль разработчика в команду _Python/Go Dev (Scoring Team)_
* Проект дается **после** проведения **теоретической** части для самостоятельной работы кандидата

***
## Назначение проекта:
* Проект симулирует примитивную систему оценки клиента. Параметр расчет в контексте проекта обозначен как **_(N)_**

***
## Кандидату:
* **Welcome! :)**
* Цель этого проекта - протестировать ваши навыки, такие как:
    - Проведение ревью
    - Работы с кодовой базой
    - Умение прогнозировать потенциальные проблемы и bottleneck-и
* При получении этого задания зайдите в папку scripts и запустите
  файл [generate_random_users.py](scripts/generate_random_users.py)
    - этот скрипт создаст вам в течение ~5 минут файл, размером 10 гб с фейковыми данными пользователей. В дальнейшем он
      вам пригодится.
    - На качество кода в этом файле смотреть нет смысла, вы не будете с ним работать. Этот код написан с помощью
      ChatGPT.
* В первой части задания можно как писать код, так и просто оставлять комменты. На ваш выбор.
* Вторая часть задания предполагает, что вы разобрались с первой частью. Во второй части писать код обязательно.
* **Удачи!**

***
## Задание:
* Проект состоит из двух частей.
* **_Первая часть - ревью._**
    - Основной задачей кандидата будет найти как можно больше потенциальных уязвимостей и устранить их.
* **_Вторая часть - Написание API._**
  1. Сгенерируйте файл users.csv с помощью скрипта, [generate_random_users.py](scripts/generate_random_users.py)
  2. У вас есть CSV файл весом 10 гб, в котором хранятся данные пользователя. ID, Имя, Возраст, Адрес...
  3. Оперативной памяти на вашем хосте - 1 гб. Ваша задача - написать API, которая:
  4. Будет принимать GET запрос на получение данных одного пользователя по его ID
  5. Проверять что пользователь есть и у него есть рассчитанный score
  6. Читать файл users.csv и отдавать в ответе его данные и его score из первого задания [Переменная COUNTED_SCORES]

***

## Активация и запуск проекта

```bash
 python -m venv venv; .\venv\Scripts\activate; 
 pip install -r .\requirements.txt;
 python project/server.py
```

## Пример запроса для 1-го задания

```
curl -X POST http://localhost:8000/user/score/count \
  -H "Content-Type: application/json" \
  -d '{"user_id": 100, "debt": 1000}'
```

## Пример запроса для 2-го задания

```
curl -X GET http://localhost:8000/user/info/23234 -H "Content-Type: application/json"
curl -X GET http://localhost:8000/user/info/0 -H "Content-Type: application/json"
curl -X GET http://localhost:8000/user/info -H "Content-Type: application/json"
curl -X GET http://localhost:8000/user/info/ -H "Content-Type: application/json"
```
